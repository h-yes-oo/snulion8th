<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>snulion</title>
    {% load static %}
    {% load sass_tags %}
    {% load socialaccount %}   <!--이 두 줄을 추가해주세요 !!!-->
    {% providers_media_js %} 
    <link href="{% sass_src 'feedpage/base.scss' %}" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="{% static 'feedpage/base.css' %}">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.blue_grey-amber.min.css" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"   integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="   crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
    <script type="text/javascript" src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=5fn4ylxwvv"></script>
  </head>
  <body>
  <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
  <header class="mdl-layout__header">
    <div class="mdl-layout__header-row">
     <!-- Title -->
      <span class="mdl-layout-title">SNUlion Feedpage</span>
      <!-- Add spacer, to align navigation to the right -->
      <div class="mdl-layout-spacer"></div>

        <!-- Navigation. We hide it in small screens. -->
        <nav class="mdl-navigation mdl-layout--large-screen-only">
          {% if user.is_authenticated %}  
            {{ user.username }}님, 안녕하세요
            <br>
            학교: {{ user.profile.college }}
            <br>
            전공: {{ user.profile.major }}
            <br>
            <div style="text-align: right">                
              내가 좋아한 글 : {{ user.like_feeds.count }}개    
            </div>     
            <a href="#logoutModal" data-toggle="modal">로그아웃</a>
            {% comment %} <a href="{% url 'logout'%}?next={{request.path}}">로그아웃</a> {% endcomment %}
          {% else %}
            {% comment %} <a href="{% url 'signup' %}"> 회원가입 </a>
            <a href="{% url 'login'%}?next={{request.path}}"> 로그인 </a> {% endcomment %}
            <a href="#signupModal" data-toggle="modal">회원가입</a>
            <a href="#loginModal" data-toggle="modal">로그인</a>
            {% comment %} <a href="{% provider_login_url 'google'%}">구글 로그인</a>  
            <a href="{% provider_login_url 'naver'%}">네이버 로그인</a>  {% endcomment %}
          {% endif %}
        </nav>
</div>
    </header>
    <div class="mdl-layout__drawer">
      <span class="mdl-layout-title">Feedpage</span>
      <nav class="mdl-navigation">
        <a class="mdl-navigation__link" href="/feeds/">메인 페이지</a>     <!-- href를 "/feeds/"로 바꾸고 Link 대신 메인페이지라고 표시해주세요 -->
        <a class="mdl-navigation__link" href="/feeds/map/">지도 보기</a> 
      </nav>
    </div>
    <main class="mdl-layout__content">
      <div class="page-content">
        {% block content %}
        {% endblock %}    
      </div>
    </main>
  </div>

  {% comment %} <div class="modal fade" id="createModal" tabindex="-1" role="dialog" aria-labelledby="createModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="createModalLabel">새로운 피드 생성하기</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <form id='feed-create' data-csrfmiddlewaretoken="{{ csrf_token }}">
            <div class="form-group">
              <label for="title" class="col-form-label">Title</label>
              <input type="text" name="title" class="form-control" id="title">
            </div>
            <div class="form-group">
              <label for="content" class="col-form-label">Content</label>
              <textarea class="form-control" name="content" id="content"></textarea>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">취소</button>
              <button type="submit" class="btn btn-primary">만들기</button>
            </div>

          </form>
        </div>
        
      </div>
    </div>
  </div> {% endcomment %}
  {% include 'feedpage/new.html' %}
  {% include 'account/signup.html' %}
  {% include 'account/login.html' %}
  {% include 'account/logout.html' %}
  <script src="{% static 'feedpage/modal.js' %}"></script>
  <script src="{% static 'feedpage/myjs.js' %}"></script>
  </body>
</html>